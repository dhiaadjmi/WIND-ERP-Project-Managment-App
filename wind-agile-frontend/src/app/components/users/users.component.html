<div class="col-lg-12">
  <mat-card class="cardWithShadow">
    <mat-card-content class="p-24">
      <mat-card-title> Informations de notre Personnels</mat-card-title>
      <div class="d-flex justify-content-between">
        <div class="relative flex items-center mr-auto">
          <button mat-flat-button color="primary" matTooltip="Info about the action" routerLink="/component/adduser">
            Ajouter un utilisateur &nbsp;&nbsp;<i class="fas fa-user-plus " style="color: #fefefe;"></i>
          </button>

        </div>
        <div class="input-group custom-form-field d-flex justify-content-end">
          <div class="input-group-prepend">
            <span class="input-group-text" id="inputGroupPrepend">
              <i class="fas fa-search custom-icon" style="color: #facc15;"></i>
            </span>
          </div>
          <input type="text" class="form-control custom-input" placeholder=" saisir nom ou prénom" aria-describedby="inputGroupPrepend" [(ngModel)]="searchTerm" (keyup)="searchUsers()">
        </div>

      </div>







      <div class="table-responsive m-t-16">
        <table mat-table [dataSource]="dataSource" class="w-100">
          <ng-container matColumnDef="profileImage">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14" >

            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              <img [src]="element.profileImageUrl" class="rounded-circle object-cover "  alt="Profile Image" width="50" height="50">
            </td>
          </ng-container>

          <ng-container matColumnDef="firstname">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Prénom
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.firstname }}
            </td>
          </ng-container>

          <ng-container matColumnDef="lastname">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Nom
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.lastname }}
            </td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Adresse e-mail
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.email }}
            </td>
          </ng-container>

          <ng-container matColumnDef="job">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Emploi
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.job }}
            </td>
          </ng-container>
          <ng-container matColumnDef="phoneNumber">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Numéro de téléphone
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.phoneNumber }}
            </td>
          </ng-container>
          <ng-container matColumnDef="cin">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
            cin            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.cin }}
            </td>
          </ng-container>

          <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Rôle
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              {{ element.role }}
            </td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14">
              Actions
            </th>
            <td mat-cell *matCellDef="let element" class="mat-body-1">
              <button mat-icon-button matTooltip="Archive" style="color: #facc15" (click)="archiveUser(element.id)">
                <mat-icon>archive</mat-icon>
              </button>

           <!--   <button mat-icon-button matTooltip="Supprimer" style="color: #facc15" (click)="deleteUser(element.id)">
                <mat-icon>delete</mat-icon>
              </button>
            -->
              <button mat-icon-button matTooltip="Update" style="color: #facc15"(click)="openUpdateUserDialog(element.id)" >
                <mat-icon>autorenew</mat-icon>
              </button>

              </td>
          </ng-container>



          <tr mat-header-row *matHeaderRowDef="[ 'profileImage','firstname', 'lastname', 'email', 'job', 'phoneNumber','cin','role', 'actions']"></tr>
          <tr mat-row *matRowDef="let row; columns: [ 'profileImage','firstname', 'lastname', 'email', 'job','phoneNumber','cin', 'role', 'actions']"></tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

      </div>
    </mat-card-content>
  </mat-card>
</div>

