<div class="page-titles">
  <div class="page-title" (click)="navigateToTeams()" style="cursor: pointer;">Mes Équipes</div>
  <div class="page-title" style="color: #facc15;font-weight: bold; text-decoration: underline;  text-decoration-thickness: 2px;
  text-underline-offset: 10px;" >Le Projet de l'Équipe</div>
</div>
<div class="col-lg-12" *ngIf="project">
  <mat-card class="cardWithShadow">
    <mat-card-content class="p-24">
      <div class="d-flex justify-content-between align-items-center">
        <mat-card-title class="larger-title">
          {{ project?.nom }}
        </mat-card-title>

        <div class="detail">
          <span class="todo-status tatus-padding" [ngStyle]="{
            'background-color': project.state === 'En attente' ? '#facc15' :
            project.state === 'En cours' ? '#86B6F6' :
            project.state === 'Annulé' ? '#FA7070' :
            project.state === 'Terminé' ? '#A1EEBD' : 'transparent'
          }">
            {{ project.state }}
            <ng-container *ngIf="project.state === 'En attente'">
              <i class="state-icon  fas fa-clock"></i>
            </ng-container>
            <ng-container *ngIf="project.state === 'En cours'">
              <i class="state-icon fas fa-hourglass-half"></i>
            </ng-container>
            <ng-container *ngIf="project.state === 'Annulé'">
              <i class="state-icon fas fa-times-circle"></i>
            </ng-container>
            <ng-container *ngIf="project.state === 'Terminé'">
              <i class="state-icon fas fa-check-circle"></i>
            </ng-container>
          </span>
        </div>


      </div>
      <span class="description">
        <i class="description-icon fas fa-align-left "></i> {{ project?.description }}
      </span>

      <div class="line"></div>

      <div class="team-details">
        <div class="team-line yellow-line">
          <span class="detail-value team-name">
            <i class="fas fa-users fa-fw detail-icon team-icon"></i>{{ project?.teamName }}
          </span>
          <div class="team-members">
            <div *ngFor="let user of team.users" class="team-member">
              <img *ngIf="user.profileImageUrl" [src]="user.profileImageUrl" alt="User Avatar" class="rounded-circle object-cover" width="45" (click)="openUserDetails(user)">
              <span class="member-name">{{ user.firstname }}&nbsp; {{ user.lastname }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="line"></div>

      <div class="project-dates dates d-flex justify-content-between align-items-center">
        <div>
          <i class="fas fa-calendar-alt mr-2" style="color: #00095E;"></i>
          <strong style="color: #00095E;"></strong> {{ project?.startDate | date: 'mediumDate' }}
        </div>
        <div>
          <i class="fas fa-calendar-times mr-2" style="color: #00095E;"></i>
          <strong style="color: #00095E;"></strong> {{ project?.endDate | date: 'mediumDate' }}
        </div>
      </div>



      <div class="text-center mt-4">
        <button mat-flat-button color="primary" matTooltip="voir les détails de projet" (click)="viewProjectDetails(project.id)">
          Voir les détails &nbsp;&nbsp;<i class="fas fa-info-circle"></i>
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
